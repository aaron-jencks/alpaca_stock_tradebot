@startuml "Domain Model Diagram"

object stock {
    + acronym
    + buy_price
    + sell_price
}

class StockDescriptor {
    + shares
}

class LimitDescriptor {
    + sell_price
    + buy_price
}

stock "1" .. "1" StockDescriptor : < describes

class TradeController {
    + stocks : StockDescriptor[]
    + buy(s: StockDescriptor)
    + sell(s: StockDescriptor)
}

StockDescriptor "1..*" .. "1" TradeController : < Manages

class PyrhAdapter {
    - rbn: Robinhood
    - login()
    + place_buy()
    + place_sell()
    + get_quote()
}

class DataMonitor {
    + limits : dict<string, LimitDescriptor>
    + stocks : StockDescriptor[]
    + append(stock : StockDescriptor)
    + update_prices()
}

TradeController "1" .. "1" DataMonitor : < Triggers
StockDescriptor "0..*" .. "1" DataMonitor : < Monitors
LimitDescriptor "0..*" .. "1" DataMonitor : < Uses
PyrhAdapter "1" .. "1" DataMonitor : < Interfaces with

class Timer {
    + interval : int
}

Timer "1" .. "1" DataMonitor : > Triggers

class StockTransaction {
    + day_of_year : int
    + year : int
    + buy : bool
}

StockDescriptor "1" .. "0..*" StockTransaction : < Describes a\ntransaction of

StockTransaction "0..*" .. "1" TradeController : < Generates

class DataLogger {
    + data : DataFrame
    + append(trade : StockDescriptor)
    + save(filename : string)
}

DataLogger "1" .. "1" TradeController : < Triggers
DataLogger "1" .. "0..*" StockTransaction : > Documents

@enduml
